<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <title>Email per transaction</title>
    <link rel="stylesheet" type="text/css" href="../css/common.css" />
    <link rel="stylesheet" type="text/css" href="../css/screen.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../css/_print.css" media="print" />

  </head>
  <body>
    <script type="text/javascript">prefix='../';</script>
    <script src="../templates/header.js" type="text/javascript"></script>
    <div id="left">
      <noscript>Please turn on Javascript to view this menu</noscript>
      <script src="../templates/left.js" type="text/javascript"></script>
    </div>
    <div id="content">
      
      <h2>Send an email per transaction but only for certain users</h2>
      
      <p>Let Dave be a developper working on some business critical
      software called Buscrit. Tata is a QA-enginner who needs to test
      Buscrit on a regular basis.
      </p>

      <p>Let us further assume that Buscrit deals 

 <appender name="SMTP" class="ch.qos.logback.classic.net.SMTPAppender">
    <SMTPHost>smtp.nespresso.com</SMTPHost>
    <To>com</To>
    <From></From>
    <layout class="ch.qos.logback.classic.html.HTMLLayout">
       <pattern>%date%level%logger{24}%msg</pattern>
    </layout>

    <evaluator class="ch.qos.logback.classic.boolex.JaninoEventEvaluator">
      <expression>
        (mdc != null &amp;&amp; mdc.get("txUser") != null &amp;&amp; 
             ((String) mdc.get("txUser")).contains("Mickey") )
        &amp;&amp;
        (marker != null  &amp;&amp; marker.contains("SMTP_TRIGGER") )
      </expression>
    </evaluator>

    <discriminator class="ch.qos.logback.classic.sift.MDCBasedDiscriminator">
      <key>uuid</key>
      <defaultValue>default</defaultValue>
    </discriminator>


  </appender>

      <script src="../templates/footer.js" type="text/javascript"></script>	
    </div>
  </body>
</html>
 